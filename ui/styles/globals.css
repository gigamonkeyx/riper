/* Tailwind base */
@tailwind base;
@tailwind components;
@tailwind utilities;

@import 'leaflet/dist/leaflet.css';

:root {
  --crate-red: #b23a2a;
  --crate-amber: #e9a23b;
  --crate-olive: #6b7e3b;
  --crate-navy: #203a43;
  --crate-cream: #f5e8c7;
  --crate-ink: #1a1a1a;
}

.font-headline { font-family: var(--font-headline), serif; }
.font-body { font-family: var(--font-body), system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji'; }

body { background: var(--crate-cream); color: var(--crate-ink); }

/***** Components *****/
.crate-card {
  @apply rounded-xl shadow-lg border;
  background: linear-gradient(180deg, #ffffff, #fbfbf7);
  border-color: rgba(0,0,0,0.06);
}

.crate-panel {
  @apply rounded-xl border;
  background: linear-gradient(180deg, #fffaf0, #f7f2e5);
  border-color: rgba(178,58,42,0.25);
}

.crate-btn {
  @apply inline-flex items-center gap-2 px-4 py-2 rounded-md font-semibold transition;
  background-color: var(--crate-red);
  color: #fff;
}
.crate-btn:hover { filter: saturate(105%) brightness(1.02); }

.crate-kpi {
  @apply rounded-lg p-5 text-white shadow;
  background: linear-gradient(135deg, var(--crate-navy), #2d5966);
}

.crate-kpi--amber { background: linear-gradient(135deg, var(--crate-amber), #d6871f); }
.crate-kpi--olive { background: linear-gradient(135deg, var(--crate-olive), #51662a); }

/***** Map container *****/
.map-container { height: 360px; width: 100%; border-radius: 12px; overflow: hidden; box-shadow: 0 8px 24px rgba(0,0,0,0.08); }

@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
  }
  
  body {
    @apply bg-gray-50 text-gray-900;
  }
}

@layer components {
  .slider {
    @apply w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer;
  }
  
  .slider::-webkit-slider-thumb {
    @apply appearance-none h-5 w-5 rounded-full bg-blue-500 cursor-pointer shadow-md;
  }
  
  .slider::-moz-range-thumb {
    @apply h-5 w-5 rounded-full bg-blue-500 cursor-pointer border-none shadow-md;
  }
  
  .slider:focus {
    @apply outline-none ring-2 ring-blue-500 ring-opacity-50;
  }
  
  .card {
    @apply bg-white rounded-lg shadow-soft p-6;
  }
  
  .card-header {
    @apply text-xl font-semibold text-gray-800 mb-4;
  }
  
  .metric-card {
    @apply rounded-lg p-6 text-white;
  }
  
  .metric-value {
    @apply text-3xl font-bold;
  }
  
  .metric-subtitle {
    @apply text-sm opacity-80;
  }
}

@layer utilities {
  .text-shadow {
    text-shadow: 0 2px 4px rgba(0,0,0,0.10);
  }
  
  .text-shadow-lg {
    text-shadow: 0 4px 8px rgba(0,0,0,0.12), 0 2px 4px rgba(0,0,0,0.08);
  }
  
  .gradient-text {
    @apply bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent;
  }
  
  .animate-fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }
  
  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-300 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-400;
}

/* Chart.js custom styles */
.chartjs-render-monitor {
  animation: fadeIn 0.5s ease-in-out;
}

/* Loading states */
.loading-shimmer {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Responsive design helpers */
@media (max-width: 640px) {
  .mobile-stack {
    @apply flex-col space-y-4 space-x-0;
  }
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  .print-break {
    page-break-before: always;
  }
}
